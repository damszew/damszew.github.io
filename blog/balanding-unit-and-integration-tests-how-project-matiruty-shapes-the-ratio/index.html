


<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base" content="https://damszew.dev">

    
    <title>damszew ‚Ä¢ Balancing Unit and Integration Tests: How Project Maturity Shapes the Ratio</title>

    
    
    
        <link rel=icon href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 55"><text y=".7em" font-size="82">ü¶Å</text></svg>'>
    

    
    

    
    
    
        <link rel="stylesheet" href="https://damszew.dev/inter_subset_en.css?h=d8cf4ad058d6c3a4015b">
    

    
        <link rel="stylesheet" href="https://damszew.dev/main.css?h=723bd2449e111301496a" />
        <link rel="stylesheet" href="https://damszew.dev/skins/mint.css?h=504215cf6bc10586b487" />

    <meta name="color-scheme" content="light dark" />
        <meta name="description" content="Personal blog for sharing thoughts about different practices and patters used to create clean and efficient software" />
        <meta property="og:description" content="Personal blog for sharing thoughts about different practices and patters used to create clean and efficient software" />

    
        <meta name="robots" content="index, nofollow" />
    

    <meta property="og:title" content="Balancing Unit and Integration Tests: How Project Maturity Shapes the Ratio" />
    <meta property="og:type" content="article" />

    

    <meta property="og:locale" content="en_GB" />

    <meta property="og:url" content="https:&#x2F;&#x2F;damszew.dev&#x2F;blog&#x2F;balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio&#x2F;" /><meta property="og:site_name" content="damszew"><meta http-equiv="Content-Security-Policy"
content="default-src 'self';font-src &#x27;self&#x27; data:;img-src &#x27;self&#x27; https:&#x2F;&#x2F;* data:;media-src &#x27;self&#x27;;style-src &#x27;self&#x27;;frame-src player.vimeo.com https:&#x2F;&#x2F;www.youtube-nocookie.com;connect-src 'self';script-src 'self' 'self'">

        <noscript><link rel="stylesheet" href="https://damszew.dev/no_js.css"/></noscript>
        <script type="text/javascript" src="https://damszew.dev/js/initializeTheme.min.js"></script>
        <script defer src="https://damszew.dev/js/themeSwitcher.min.js"></script></head>


<body>
    <header>
    <nav class="navbar">
        <div class="nav-title">
            <a class="home-title" href="https://damszew.dev">damszew</a>
        </div>
            <div class="nav-navs">
                <ul>
                        
                            <li>
                                
                                <a class="nav-links no-hover-padding" href="https://damszew.dev/blog/">
                                blog
                                </a>
                            </li>
                        
                            <li>
                                
                                <a class="nav-links no-hover-padding" href="https://damszew.dev/tags/">
                                tags
                                </a>
                            </li>
                        
                            <li>
                                
                                <a class="nav-links no-hover-padding" href="https://damszew.dev/about/">
                                about
                                </a>
                            </li>
                        

                    
                    

                    <li class="theme-switcher-wrapper js"><div
        title="Toggle dark&#x2F;light mode"
        class="theme-switcher"
        tabindex="0"
        role="button"
        aria-label="Toggle dark mode"
        aria-pressed="false">
    </div><div
        title="Reset mode to default"
        class="theme-resetter arrow"
        tabindex="0"
        role="button"
        aria-hidden="true"
        aria-label="Reset mode to default">
    </div>

</li>
</ul>
            </div>
        
    </nav>
</header>

    <div class="content">

        
        




<main>
    <article>
        <h1 class="article-title">
            Balancing Unit and Integration Tests: How Project Maturity Shapes the Ratio
        </h1>

        <ul class="meta"><li>5th Mar 2025</li>&nbsp;‚Ä¢&nbsp;<li title="724 words">4 min read</li>&nbsp;‚Ä¢&nbsp;<li>Tags:&nbsp;</li><li><a href="https://damszew.dev/tags/rants-n-rambles/">rants-n-rambles</a>,&nbsp;</li><li><a href="https://damszew.dev/tags/tdd/">tdd</a></li>
        </ul>

        

        
        
            

<div class="toc-container">
    
        <h3>Table of Contents</h3>
    

    <ul>
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#the-value-of-testing-and-my-early-experience">The Value of Testing and My Early Experience</a>
                    
                </li>
            
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#the-root-cause-project-maturity">The Root Cause: Project Maturity</a>
                    
                        <ul>
                            
                                
                                    <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#early-stage-projects-favor-integration-tests">Early-Stage Projects: Favor Integration Tests</a>
                                        
                                    </li>
                                
                            
                                
                                    <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#mature-projects-favor-unit-tests">Mature Projects: Favor Unit Tests</a>
                                        
                                    </li>
                                
                            
                        </ul>
                    
                </li>
            
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#common-pitfalls-and-how-to-avoid-them">Common Pitfalls and How to Avoid Them</a>
                    
                </li>
            
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#conclusion-finding-the-right-balance">Conclusion: Finding the Right Balance</a>
                    
                </li>
            
        
    </ul>
</div>


        

        <section class="body">
            
            
            <p>Recently, I stumbled upon two seemingly contradictory viewpoints regarding testing:</p>
<ul>
<li><strong>Predrag Gruevski‚Äôs talk</strong> <a href="https://youtu.be/3EFue8PDyic?si=70ymjZObizp3_GpN&amp;t=924">‚ÄúBuild bigger in less time: code testing beyond the basics‚Äù</a> at EuroRust, which advocates for unit tests due to their speed and reliability.</li>
<li><strong>Carson Gross‚Äôs article</strong> <a href="https://htmx.org/essays/codin-dirty/#i-prefer-integration-tests-to-unit-tests">‚ÄúCodin‚Äô Dirty‚Äù</a>, which favors integration tests for their robustness and lower maintenance costs.</li>
</ul>
<p>I find myself agreeing with both perspectives. There are times when unit tests feel too isolated to provide meaningful assurance, and other times when integration tests slow down development to a frustrating degree. The key, I believe, lies in understanding how a project‚Äôs maturity influences the ideal balance between these two types of tests.</p>
<h2 id="the-value-of-testing-and-my-early-experience"><a class="header-anchor no-hover-padding" href="#the-value-of-testing-and-my-early-experience" aria-label="Anchor link for: the-value-of-testing-and-my-early-experience"><span class="link-icon" aria-hidden="true"></span></a>
The Value of Testing and My Early Experience</h2>
<p>I was fortunate to grasp the value of testing early in my career. My first real-world project had a well-balanced test suite with unit, integration, and end-to-end (E2E) tests, thanks to experienced developers practicing TDD. This provided a solid foundation, helping me see both the strengths and weaknesses of different testing strategies.</p>
<p>The fundamental trade-off between unit and integration tests is well known:</p>
<ul>
<li><strong>Unit tests</strong> are fast but cover a limited scope.</li>
<li><strong>Integration tests</strong> are slower but provide broader coverage with a single test.</li>
</ul>
<p>I have seen projects suffer from an overload of slow integration tests, just as I have seen projects with so many heavily mocked unit tests that they provided little confidence. The question is: how do teams end up in these situations, and how can they avoid it?</p>
<h2 id="the-root-cause-project-maturity"><a class="header-anchor no-hover-padding" href="#the-root-cause-project-maturity" aria-label="Anchor link for: the-root-cause-project-maturity"><span class="link-icon" aria-hidden="true"></span></a>
The Root Cause: Project Maturity</h2>
<p>We often discuss when to use unit vs. integration tests from a technical standpoint, but we rarely consider how a project‚Äôs maturity influences this decision.</p>
<h3 id="early-stage-projects-favor-integration-tests"><a class="header-anchor no-hover-padding" href="#early-stage-projects-favor-integration-tests" aria-label="Anchor link for: early-stage-projects-favor-integration-tests"><span class="link-icon" aria-hidden="true"></span></a>
Early-Stage Projects: Favor Integration Tests</h3>
<p>When working at a startup or on an early-stage project, the codebase is constantly evolving. Here, integration tests shine:</p>
<ul>
<li>They cover the entire stack via the API, reducing the need to rewrite tests as the internal implementation changes.</li>
<li>Maintenance cost is lower because fewer tests need to be updated when refactoring.</li>
<li>Execution time is manageable because the overall test suite remains small.</li>
</ul>
<p>In this context, the trade-off of slower execution times is acceptable because the total runtime remains reasonable‚Äîsay, under 30 seconds.</p>
<h3 id="mature-projects-favor-unit-tests"><a class="header-anchor no-hover-padding" href="#mature-projects-favor-unit-tests" aria-label="Anchor link for: mature-projects-favor-unit-tests"><span class="link-icon" aria-hidden="true"></span></a>
Mature Projects: Favor Unit Tests</h3>
<p>For larger, more mature systems‚Äîespecially in big tech‚Äîunit tests become more valuable:</p>
<ul>
<li>The product may be too large to spin up locally, making full integration tests impractical.</li>
<li>Interfaces and abstractions have stabilized, making unit tests more reliable.</li>
<li>A full test suite could take 30 minutes or more to run, so faster unit tests improve feedback loops.</li>
</ul>
<p>In such cases, writing unit tests against well-defined abstractions provides sufficient confidence while keeping test execution times low. However, occasional integration tests remain necessary to ensure everything works together as expected.</p>
<h2 id="common-pitfalls-and-how-to-avoid-them"><a class="header-anchor no-hover-padding" href="#common-pitfalls-and-how-to-avoid-them" aria-label="Anchor link for: common-pitfalls-and-how-to-avoid-them"><span class="link-icon" aria-hidden="true"></span></a>
Common Pitfalls and How to Avoid Them</h2>
<p>A poorly balanced test suite‚Äîwhether overloaded with slow integration tests or brittle, over-mocked unit tests‚Äîis a symptom, not the root problem. I‚Äôve seen two common scenarios leading to this imbalance:</p>
<ol>
<li>
<p><strong>The project outgrows its integration-heavy test suite.</strong></p>
<ul>
<li>Initially, integration tests worked well.</li>
<li>Over time, new tests were added without considering the cost.</li>
<li>The real solution was to refactor: improve abstractions, convert some integration tests to unit tests, and optimize the test suite.</li>
</ul>
</li>
<li>
<p><strong>The project was over-engineered with excessive unit tests.</strong></p>
<ul>
<li>A culture of writing fine-grained unit tests led to high coupling and difficulty in refactoring.</li>
<li>Integration tests were neglected, limiting confidence in how components worked together.</li>
<li>The solution was to introduce more integration tests while relaxing rigid unit test practices.</li>
</ul>
</li>
</ol>
<p>Both cases highlight the need to adapt testing strategies as a project evolves.</p>
<h2 id="conclusion-finding-the-right-balance"><a class="header-anchor no-hover-padding" href="#conclusion-finding-the-right-balance" aria-label="Anchor link for: conclusion-finding-the-right-balance"><span class="link-icon" aria-hidden="true"></span></a>
Conclusion: Finding the Right Balance</h2>
<p>As always, the answer is <strong>‚Äúit depends.‚Äù</strong> The ratio of unit to integration tests should adapt to a project‚Äôs maturity:</p>
<ul>
<li><strong>Early-stage projects:</strong> Favor integration tests to cover broad changes while keeping maintenance low. Use unit tests selectively for complex logic.</li>
<li><strong>Mature projects:</strong> Favor unit tests to ensure fast execution and modular reliability. Use integration tests strategically to validate system behavior.</li>
</ul>
<p>By staying mindful of this spectrum, teams can avoid the extremes and build test suites that evolve alongside their projects, providing confidence without unnecessary overhead.</p>

        </section>

        
        
        
        

        
            
            
            

            
        
            
            
            

            
        
            
            
            

            
        
            
            
            

            
        

        
        

        
        

    </article>
</main>

    <div id="button-container">
        
        
            <div id="toc-floating-container">
                <input type="checkbox" id="toc-toggle" class="toggle"/>
                <label for="toc-toggle" class="overlay"></label>
                <label for="toc-toggle" id="toc-button" class="button" title="Toggle Table of Contents">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg>
                </label>
                <div class="toc-content">
                    

<div class="toc-container">
    

    <ul>
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#the-value-of-testing-and-my-early-experience">The Value of Testing and My Early Experience</a>
                    
                </li>
            
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#the-root-cause-project-maturity">The Root Cause: Project Maturity</a>
                    
                        <ul>
                            
                                
                                    <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#early-stage-projects-favor-integration-tests">Early-Stage Projects: Favor Integration Tests</a>
                                        
                                    </li>
                                
                            
                                
                                    <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#mature-projects-favor-unit-tests">Mature Projects: Favor Unit Tests</a>
                                        
                                    </li>
                                
                            
                        </ul>
                    
                </li>
            
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#common-pitfalls-and-how-to-avoid-them">Common Pitfalls and How to Avoid Them</a>
                    
                </li>
            
        
            
            
                <li><a href="https://damszew.dev/blog/balanding-unit-and-integration-tests-how-project-matiruty-shapes-the-ratio/#conclusion-finding-the-right-balance">Conclusion: Finding the Right Balance</a>
                    
                </li>
            
        
    </ul>
</div>


                </div>
            </div>
        

        
        

        
        <a href="#" id="top-button" class="no-hover-padding" title="Go to the top of the page">
            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg>
        </a>
    </div>


<span id="copy-success" class="hidden">
        Copied!
    </span>
    <span id="copy-init" class="hidden">
        Copy code to clipboard
    </span>
    <script defer src="https://damszew.dev/js/copyCodeToClipboard.min.js"></script>
    </div>
    <footer>
    <section>
        <nav class="socials nav-navs">
                <ul>
                    
                    
                    
                    
                        
                            <li>
                                <a class="nav-links no-hover-padding social" rel=" me"  href="https://github.com/damszew">
                                    <img loading="lazy" alt="github" title="github" src="https://damszew.dev/social_icons/github.svg">
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding social" rel=" me"  href="https://www.linkedin.com/in/szewczyk-damian/">
                                    <img loading="lazy" alt="linkedin" title="linkedin" src="https://damszew.dev/social_icons/linkedin.svg">
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding social" rel=" me"  href="https://twitter.com/damszew/">
                                    <img loading="lazy" alt="twitter" title="twitter" src="https://damszew.dev/social_icons/twitter.svg">
                                </a>
                            </li>
                        
                    
                </ul>
            
        </nav>

        
        <nav class="nav-navs">
        </nav>

        <div class="credits">
            <small>
                

                
                Powered by
                <a rel=""  href="https://www.getzola.org">Zola</a>
                &amp;
                <a rel=""  href="https://github.com/welpo/tabi">tabi</a>

                </small>
        </div>
    </section>

    </footer>

</body>

</html>
